CompileFlags:
  # Rely on compile_commands.json for the driver.
  # If no build folder is found, these flags provide a safe fallback.
  Add:
    [
      -std=c++23,
      -Wall,
      -Wextra,
      -Wconversion,
      -Wsign-conversion,
      -Wshadow,
      -Wnon-virtual-dtor,
    ]
  # Remove older standards to prevent conflicts
  Remove:
    [
      -std=c++98,
      -std=c++03,
      -std=c++11,
      -std=c++14,
      -std=c++17,
      -std=c++20,
      -pedantic-errors,
    ]

Index:
  Background: Build
  StandardLibrary: Yes

Diagnostics:
  UnusedIncludes: Strict
  MissingIncludes: Strict

  ClangTidy:
    Add:
      [
        "bugprone-*",
        "modernize-*",
        "performance-*",
        "misc-*",
        "readability-*",
        "cppcoreguidelines-*",
      ]
    Remove: [
        # Formatting/Style checks (let clang-format handle style)
        "readability-braces-around-statements",
        "readability-identifier-length",
        "modernize-use-trailing-return-type",
        "modernize-use-nodiscard",

        # Noise reduction (often false positives in standard code)
        "cppcoreguidelines-pro-bounds-*",
        "cppcoreguidelines-pro-type-*",
        "cppcoreguidelines-avoid-magic-numbers",
        "readability-magic-numbers",
        "bugprone-easily-swappable-parameters",
        "performance-enum-size",
        "misc-non-private-member-variables-in-classes",
      ]
    CheckOptions:
      # High complexity functions are hard to maintain; this warns if logic is too deep
      readability-function-cognitive-complexity.Threshold: 25

      # === Naming Convention Enforcement ===
      # General naming
      readability-identifier-naming.NamespaceCase: CamelCase
      readability-identifier-naming.ClassCase: CamelCase
      readability-identifier-naming.StructCase: CamelCase
      readability-identifier-naming.FunctionCase: camelBack
      readability-identifier-naming.ParameterCase: camelBack
      readability-identifier-naming.LocalVariableCase: camelBack

      # Class member variables
      readability-identifier-naming.PrivateMemberCase: camelBack
      readability-identifier-naming.PrivateMemberPrefix: m_
      readability-identifier-naming.ProtectedMemberCase: camelBack
      readability-identifier-naming.ProtectedMemberPrefix: p_
      readability-identifier-naming.PublicMemberCase: camelBack

      # Static members
      readability-identifier-naming.ClassMemberCase: camelBack
      readability-identifier-naming.ClassMemberPrefix: s_
      readability-identifier-naming.StaticVariableCase: camelBack
      readability-identifier-naming.StaticVariablePrefix: s_

      # Constants
      readability-identifier-naming.GlobalConstantCase: UPPER_CASE
      readability-identifier-naming.ConstexprVariableCase: UPPER_CASE
      readability-identifier-naming.StaticConstantCase: camelBack
      readability-identifier-naming.StaticConstantPrefix: s_
      readability-identifier-naming.ClassConstantCase: camelBack
      readability-identifier-naming.ClassConstantPrefix: s_

InlayHints:
  Enabled: Yes
  ParameterNames: Yes
  DeducedTypes: Yes
  Designators: Yes
  BlockEnd: Yes

Hover:
  ShowAKA: Yes

Completion:
  AllScopes: Yes
